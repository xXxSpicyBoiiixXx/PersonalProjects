#!/usr/bin/python

# FILE: vrfy.py
# USAGE: ./vrfy.py <text_file>
# DESCRIPTION: This program will go to the vrfy port 25 and run a text file, take the banner, and hopefully will find a verfied user on the port through the inputed text file.
# OPTIONS: -- 
# REQUIREMENTS: Must have text file.
# BUGS: -- 
# AUTHOR: xXxSpicyBoiiixXx
# ORGANIZATION: -- 
# VERSION: 1.0
# CREATED: 03/06/2020
# REVISION: --

import socket
import sys

# prints message if there is an incorrect arguement
if len(sys.argv) != 2:
	print "Useage: vrfy.py <text_file>"
	sys.exit(0)

# Create a socket 
s = socket.socket(scoket.AF_INET, socket.SOCK_STREAM)

# Connect to the server 
connect = s.connect(('<ip address>',25))

# Recieve the banner 
banner = s.recv(1024)

print banner 

f = open(sys.argv[1])
for x in f:
	s.send('VRFY' + x)
	result = s.recv(1024)
	print result

# Close the socket 
s.close()
